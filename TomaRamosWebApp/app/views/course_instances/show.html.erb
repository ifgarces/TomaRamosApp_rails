<p style="color: green"><%= notice %></p>

<div class="card">
  <div class="card-header">
    <span class="badge rounded-pill bg-secondary" style='
      margin-right: 8px;
      font-family: "Source Code Pro", monospace;
    '>
      NRC <%= @course_instance.nrc %>
    </span>
    <%= @course_instance.title %>
  </div>

  <div class="card-body">

    <dl class="row">
      <dt class="col-sm-3">Sección</dt>
      <dd class="col-sm-9"><%= @course_instance.section %></dd>

      <dt class="col-sm-3">Profesor</dt>
      <dd class="col-sm-9"><%= @course_instance.teacher %></dd>

      <dt class="col-sm-3">Materia</dt>
      <dd class="col-sm-9"><%= @course_instance.career %></dd>

      <!--<dt class="col-sm-3">Número de curso</dt>
      <dd class="col-sm-9"><%#= @course_instance.course_number %></dd>-->

      <dt class="col-sm-3">Créditos</dt>
      <dd class="col-sm-9"><%= @course_instance.credits %></dd>

      <dt class="col-sm-3">Plan de estudios</dt>
      <dd class="col-sm-9"><%= @course_instance.curriculum %></dd>

      <% if (@course_instance.liga != nil) %>
        <dt class="col-sm-3">Conector liga</dt>
        <dd class="col-sm-9"><%= @course_instance.liga %></dd>
      <% end %>

      <% if (@course_instance.lcruz != nil) %>
        <dt class="col-sm-3">Lista cruzada</dt>
        <dd class="col-sm-9"><%= @course_instance.lcruz %></dd>
      <% end %>
    </dl>

    <hr>

    <!-- Class events -->
    <div class="p-2 bg-transparent text-body text-center" style="
      background-color: #c4c4c4!important;
      border-radius: 10px 10px 0 0;
    ">
      <h5 class="card-title m-0">Clases</h5>
    </div>
    <div class="p-1 mb-2 bg-light text-body">
      <div style="
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
      ">
        <% @course_instance.getEventsClasses().each do |event| %>
          <div style="
            display: inline-block;
          ">
            <%= render(event) %>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Assistantships and laboratory events -->
    <div class="p-2 mt-4 bg-transparent text-body text-center" style="
      background-color: #eddab2!important;
      border-radius: 10px 10px 0 0;
    ">
      <h5 class="card-title m-0">Ayudantías y laboratorios</h5>
    </div>
    <div class="p-1 mb-2 bg-transparent text-body" style="
      background-color: #FDF7F2!important;
    ">
      <div style="
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
      ">
        <% @course_instance.getEventsAssistantshipsAndLabs().each do |event| %>
          <div style="
            display: inline-block;
          ">
            <%= render(event) %>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Evaluation events -->
    <div class="p-2 mt-4 bg-transparent text-body text-center" style="
      background-color: #f0bbc6!important;
      border-radius: 10px 10px 0 0;
    ">
      <h5 class="card-title m-0">Evaluaciones</h5>
    </div>
    <div class="p-1 mb-2 bg-transparent text-body" style="
      background-color: #F8EEF0!important;
    ">
      <div style="
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
      ">
        <% @course_instance.getEventsEvaluations().each do |event| %>
          <div style="
            display: inline-block;
          ">
            <%= render(event) %>
          </div>
        <% end %>
      </div>
    </div>

    <hr>

    <div class="text-center mt-4 mb-2">
      <%= link_to(
            raw("<i class='bi bi-plus-lg'></i> ") + "Inscribir ramo",
            "/pages/wip",
            class: "btn btn-primary disabled"
          ) %>
    </div>

  </div>
</div>

<div>
  <%= link_to "Edit this course instance", edit_course_instance_path(@course_instance) %> |
  <%= link_to "Back to course instances", course_instances_path %>

  <%= button_to "Destroy this course instance", @course_instance, method: :delete %>
</div>
