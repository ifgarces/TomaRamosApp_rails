<div id="ScheduleControlsContainer" class="mb-3">
  <a class="btn btn-outline-danger" data-bs-toggle="collapse" href="#SymbologyContainer" role="button"
     aria-expanded="false" aria-controls="collapseExample">
    <i class="bi bi-question-lg"></i>
  </a>

  <%=
    button_tag(
      raw("<i class='bi bi-file-earmark-arrow-down-fill me-2'></i>") + "Guardar horario",
      class: "btn btn-outline-secondary shadow-sm px-4 mx-2",
      :type => "button",
      "data-bs-toggle" => "modal",
      "data-bs-target" => "#ScheduleDownloadWIP"
    )
  %>
</div>

<div id="SymbologyContainer" class="collapse card border-danger mb-3">
  <div class="card-header bg-transparent border-danger">
    Colores de bloques de horario
  </div>
  <div class="card-body">
    <small class="d-inline border border-light shadow-sm px-2 py-1 m-1" style="background-color: white;">
      Clases
    </small>
    <small class="d-inline border border-light shadow-sm px-2 py-1 m-1" style="background-color: #cafccd;">
      Ayudant√≠as
    </small>
    <small class="d-inline border border-light shadow-sm px-2 py-1 m-1" style="background-color: #cadefc;">
      Laboratorios
    </small>
  </div>
</div>

<div id="WeekScheduleLandscape" class="container-xxl" style="min-width: 500px; overflow-x: auto;">
  <div id="WeekScheduleHeader" class="row row-6 text-center">
    <div class="col-1 text-white cell-day-darker-gray">Hora</div>
    <% [
         DayOfWeekEnum::MONDAY,
         DayOfWeekEnum::TUESDAY,
         DayOfWeekEnum::WEDNESDAY,
         DayOfWeekEnum::THURSDAY,
         DayOfWeekEnum::FRIDAY
      ].each do |dayOfWeek| %>
      <div class="col text-white cell-day-dark-gray text-uppercase"><%= dayOfWeek %></div>
    <% end %>
  </div>

  <% @weekScheduleData.each_with_index do |weekScheduleRow, rowIndex| %>
    <div class="row row-6 py-1 <%= (rowIndex % 2 == 0) ? "row-lighter-gray" : "row-light-gray" %>">
      <div class="col-1 cell-time">
        <small><%= "%d:30" % [WeekSchedule::FIRST_BLOCK_HOUR + rowIndex] %></small>
      </div>

      <div class="col">
        <% weekScheduleRow.monday.each do |event| %>
          <%= render(
                partial: "course_events/event_compact_week_schedule",
                locals: {
                  courseEvent: event
                }
              ) %>
        <% end %>
      </div>

      <div class="col">
        <% weekScheduleRow.tuesday.each do |event| %>
          <%= render(
                partial: "course_events/event_compact_week_schedule",
                locals: {
                  courseEvent: event
                }
              ) %>
        <% end %>
      </div>

      <div class="col">
        <% weekScheduleRow.wednesday.each do |event| %>
          <%= render(
                partial: "course_events/event_compact_week_schedule",
                locals: {
                  courseEvent: event
                }
              ) %>
        <% end %>
      </div>

      <div class="col">
        <% weekScheduleRow.thursday.each do |event| %>
          <%= render(
                partial: "course_events/event_compact_week_schedule",
                locals: {
                  courseEvent: event
                }
              ) %>
        <% end %>
      </div>

      <div class="col">
        <% weekScheduleRow.friday.each do |event| %>
          <%= render(
                partial: "course_events/event_compact_week_schedule",
                locals: {
                  courseEvent: event
                }
              ) %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<div id="ScheduleDownloadWIP" class="modal fade">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <%= render(partial: "main/wip_card") %>
    </div>
  </div>
</div>
